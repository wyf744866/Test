package sort;

import java.util.ArrayList;


public class BucketSort {
	//??????????????????????   ???????????
	public static ArrayList<Integer> sort(ArrayList<Integer> array, int bucketSize) {

		if (array == null || array.size() < 2)
			return array;
		int max = array.get(0), min = array.get(0);
		// ?????????§³?
		for (int i = 0; i < array.size(); i++) {
			if (array.get(i) > max)
				max = array.get(i);
			if (array.get(i) < min)
				min = array.get(i);
		}
		int bucketCount = (max - min) / bucketSize + 1;
		ArrayList<ArrayList<Integer>> bucketArr = new ArrayList<>(bucketCount);
		ArrayList<Integer> resultArr = new ArrayList<>();
		for (int i = 0; i < bucketCount; i++) {
			bucketArr.add(new ArrayList<Integer>());
		}
		for (int i = 0; i < array.size(); i++) {
			bucketArr.get((array.get(i) - min) / bucketSize).add(array.get(i));
		}
		for (int i = 0; i < bucketCount; i++) {
			//???????????????????????????????????1???????§³BucketSize???????????????????????????????????????????????
			if (bucketCount == 1)
				bucketSize--;
			//??????????? ???????????????
			ArrayList<Integer> temp = sort(bucketArr.get(i), bucketSize);
			for (int j = 0; j < temp.size(); j++)
				resultArr.add(temp.get(j));
		}
		return resultArr;
	}
	public static void main(String[] args) {
		int[] nums = { 1, 2, 4, 5, 3,7,99};
		 ArrayList<Integer> arr =new ArrayList<Integer>();
		for (int i = 0; i < nums.length; i++) {
			arr.add(nums[i]);
		}
		System.out.println(sort(arr,5));
	}
}
